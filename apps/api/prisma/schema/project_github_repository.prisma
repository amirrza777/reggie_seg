model ProjectGithubRepository {
  id                 Int              @id @default(autoincrement())
  projectId          Int
  githubRepositoryId Int
  linkedByUserId     Int
  isActive           Boolean          @default(true)
  autoSyncEnabled    Boolean          @default(true)
  syncIntervalMinutes Int             @default(60)
  lastSyncedAt       DateTime?
  nextSyncAt         DateTime?
  createdAt          DateTime         @default(now())
  updatedAt          DateTime         @updatedAt

  project            Project          @relation(fields: [projectId], references: [id], onDelete: Cascade)
  repository         GithubRepository @relation(fields: [githubRepositoryId], references: [id], onDelete: Cascade)
  linkedByUser       User             @relation("ProjectGithubRepositoryLinkedBy", fields: [linkedByUserId], references: [id], onDelete: Cascade)
  snapshots          GithubRepoSnapshot[]

  @@unique([projectId, githubRepositoryId])
  @@index([projectId])
  @@index([githubRepositoryId])
  @@index([linkedByUserId])
  @@index([nextSyncAt])
}
