model User {
  id                  Int                 @id @default(autoincrement())
  enterpriseId        String
  email               String
  createdAt           DateTime            @default(now())
  avatarData          Bytes?
  avatarMime          String?
  firstName           String
  isAdmin             Boolean             @default(false)
  isStaff             Boolean             @default(false)
  lastName            String
  passwordHash        String
  updatedAt           DateTime            @updatedAt
  enterprise          Enterprise          @relation(fields: [enterpriseId], references: [id], onDelete: Restrict)
  moduleLeads         ModuleLead[]
  revieweeAssessments PeerAssessment[]    @relation("PeerAssessmentReviewee")
  reviewerAssessments PeerAssessment[]    @relation("PeerAssessmentReviewer")
  teamAllocations     TeamAllocation[]
  userModules         UserModule[]
  meetingOrganisers   Meeting[]           @relation("MeetingOrganiser")
  meetingAttendances  MeetingAttendance[] @relation("MeetingAttendance")
  meetingMinutes      MeetingMinutes[]    @relation("MeetingMinutesWriter")
  meetingComments     MeetingComment[]    @relation("MeetingComment")
  refreshTokens       RefreshToken[]
  passwordResetTokens PasswordResetToken[]
  emailChangeTokens   EmailChangeToken[]

  questionnaires  QuestionnaireTemplate[]

  @@index([enterpriseId])
  @@unique([enterpriseId, email])
}
